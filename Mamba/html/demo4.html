<html>	
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<script type="text/javascript" src="../js/jquery-1.10.1.js"></script>
 <script type="text/javascript" src="../js/MbaError.js"></script>
	<script type="text/javascript" src="../js/Mamba.js"></script>
	<script type="text/javascript" src="../js/MbaUtil.js"></script>
	<script type="text/javascript" src="../js/MbaDom.js"></script>
    <script type="text/javascript" src="../js/MbaDomSingle.js"></script>
    <script type="text/javascript" src="../js/MbaDomFromString.js"></script>
    <script type="text/javascript" src="../js/MbaDomEmpty.js"></script>
    <script type="text/javascript" src="../js/MbaAnchor.js"></script>
    <script type="text/javascript" src="../js/MbaDirective.js"></script>
    <script type="text/javascript" src="../js/MbaRootDirective.js"></script>
    <script type="text/javascript" src="../js/AnchorProvider.js"></script>
    <script type="text/javascript" src="../js/DefaultAnchorProvider.js"></script>
    <script type="text/javascript" src="../js/TextNodeAnchorProvider.js"></script>    
    <script type="text/javascript" src="../js/MbaBinding.js"></script>
	<script type="text/javascript" src="../js/MbaBindingText.js"></script>		
    <script type="text/javascript" src="../js/MbaAccessor.js"></script>
    <script type="text/javascript" src="../js/MbaFieldAccessor.js"></script>
    <script type="text/javascript" src="../js/MbaAccessorChain.js"></script>
    <script type="text/javascript" src="../js/MbaTransf.js"></script>
    <script type="text/javascript" src="../js/EventConnector.js"></script>
    <script type="text/javascript" src="../js/EventConnectorTextNode.js"></script>
    <script type="text/javascript" src="../js/MbaTextTransf.js"></script>
    <script type="text/javascript" src="../js/MbaAttributeTransf.js"></script>
    <script type="text/javascript" src="../js/MbaClassTransf.js"></script>
    <script type="text/javascript" src="../js/MbaClassWithArgTransf.js"></script>
    <script type="text/javascript" src="../js/MbaRefFunctionTransf.js"></script>
    <script type="text/javascript" src="../js/MbaCustomFunctionTransf.js"></script>
    <script type="text/javascript" src="../js/MbaPropertyTransf.js"></script>
    <script type="text/javascript" src="../js/MbaRoute.js"></script>
    <script type="text/javascript" src="../js/MbaNode.js"></script>
    <script type="text/javascript" src="../js/MbaNodeDirective.js"></script>
    <script type="text/javascript" src="../js/MbaRootNode.js"></script>
    <script type="text/javascript" src="../js/MbaTemplate.js"></script>
    <script type="text/javascript" src="../js/MbaNodeHtmlElement.js"></script>
    <script type="text/javascript" src="../js/MbaNodeBinding.js"></script>
    <script type="text/javascript" src="../js/MbaNodeConstructor.js"></script>
	<script type="text/javascript" src="../js/MbaVisitor.js"></script>
    <script type="text/javascript" src="../js/MbaDirectiveVisitor.js"></script>
    <script type="text/javascript" src="../js/MbaDirectiveDebugVisitor.js"></script>
    <script type="text/javascript" src="../js/AddTextNodesVisitor.js"></script>
    <script type="text/javascript" src="../js/MbaTemplateDirective.js"></script>
    <script type="text/javascript" src="../js/MbaTemplateBinding.js"></script>
    <script type="text/javascript" src="../js/TemplateDirectiveAndBindingVisitor.js"></script>
    <script type="text/javascript" src="../js/MbaTemplateDirectiveVisitor.js"></script>
    <script type="text/javascript" src="../js/MbaNodeVisitor.js"></script>
    <script type="text/javascript" src="../js/DebugNodeVisitor.js"></script>
    <script type="text/javascript" src="../js/TestNodeVisitor.js"></script>
    <script type="text/javascript" src="../js/IntegrateBindingAndDirectiveNodesVisitor.js"></script>
    <script type="text/javascript" src="../js/DirectiveSplitter.js"></script>
    <script type="text/javascript" src="../js/DirectiveParser.js"></script>
    <script type="text/javascript" src="../js/DirectiveExtractor.js"></script>
    <script type="text/javascript" src="../js/BaseExtractor.js"></script>
    <script type="text/javascript" src="../js/SimpleExtractor.js"></script>
    <script type="text/javascript" src="../js/AttributeExtractor.js"></script>
    <script type="text/javascript" src="../js/ClassExtractor.js"></script>
    <script type="text/javascript" src="../js/PropertyExtractor.js"></script>
    <script type="text/javascript" src="../js/ClassWithArgExtractor.js"></script>
    <script type="text/javascript" src="../js/RefFunctionExtractor.js"></script>
    <script type="text/javascript" src="../js/CustomFunctionExtractor.js"></script>
    <script type="text/javascript" src="../js/MbaConnectEventsVisitor.js"></script>
    <script type="text/javascript" src="../js/DebugNodeAndAccessorVisitor.js"></script>
    <script type="text/javascript" src="../js/MbaActionBinding.js"></script>
    <script type="text/javascript" src="../js/AddActionBindingIntoNodesVisitor.js"></script>
    <script type="text/javascript" src="../js/UpdateSuperModelReferenceVisitor.js"></script>   
    <script type="text/javascript" src="../js/GetNodesAndAccessorsVisitor.js"></script>   
    <script type="text/javascript" src="../js/AccessorChainAndMbaNodes.js"></script>       
    <script type="text/javascript" src="../js/RootAccessorNode.js"></script>   
    <script type="text/javascript" src="../js/AccessorNode.js"></script>   
    <script type="text/javascript" src="../js/CheckIndexedRenderedDomVisitor.js"></script> 
    <script type="text/javascript" src="../js/MbaModelExplorer.js"></script> 
    <script type="text/javascript" src="../js/MbaModelFinder.js"></script> 
    <script type="text/javascript" src="../js/MbaRefreshMethodGenerator.js"></script>

    <style type="text/css">
		body
        {
            height :100%; 
            text-align: center;
        }
        #content
        {
            height : 100%;
            display: inline-block;
            margin-top: 50px;
        }
	</style>
</head>

<body>
    <div id='content'></div>
</body>
<script type="text/javascript">
    
    function TodoModel(){
        this.newItem = '';
        this.items = [];
        this.add = 
            function(){
                this.items.push({name: this.newItem, selected: false});
                this.newItem = '';
            };
        
        this.del = 
            function(item){
                this.items.splice(this.items.indexOf(item), 1);
            };
        
        this.setSelectedForAll = 
            function(selected){
                for(var i=0;i<this.items.length;i++){
                    this.items[i].selected=selected;
                }
            };
        
        this.selectAll = 
            function(){
                this.setSelectedForAll(true);
            };
        
        this.selectAny = 
            function(){
                this.setSelectedForAll(false);
            };
    };
    
    var html = 
        '<input id="newItem" type="text"></input>'+
        '<button id="add">ajouter</button>'+
        '<button id="selAll">tous</button>'+
        '<button id="selAny">aucun</button>'+
        '<div class="itemCont">'+
            '<input class="item" type="text"></input>'+
            '<input class="check" type="checkbox"></input>'+
            '<button class="del">suppr</button>'+
        '</div> ';
    
    var model = new TodoModel();

    var directive = 
        {"newItem": "#newItem$value->blur",
         "items": {"r00t": ".itemCont",
                   "name": ".item$value->keyup",
                   "selected": ".check$checked->click"},
         "/add": "#add->click",
         "/del": ".del->click",
         "/selectAll": "#selAll->click",
         "/selectAny": "#selAny->click"};
    
    var mamba = new Mamba(model, html, directive, '#content');
    mamba.render();
    mamba.debugNodes();
</script>
</html>
